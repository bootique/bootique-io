---
title: "Bootique - v2 DI migration guide"
metaDescription: "Transition smoothly from Google Guice to Bootique DI with our migration guide for Bootique - v2. Discover tips, key differences, and best practices for effective DI management in Java apps."
metaKeywords: "bootique, di, guice, migration"
---






<div class="sect1">
 <h2 id="_migrating_from_guice_framework">1. Migrating from Guice framework</h2>
 <div class="sectionbody">
  <div class="paragraph">
   <p>Migration from Guice to Bootique DI is a straightforward process as they both share similar concepts. Essentially it all comes to changing packages and minor code rewrites.</p>
  </div>
 </div>
</div>
<div class="sect1">
 <h2 id="_interfaces_and_annotations">2. Interfaces and Annotations</h2>
 <div class="sectionbody">
  <div class="paragraph">
   <p>Here is a table that shows a correspondence of interfaces and annotations between Guice and Bootique DI.</p>
  </div>
  <table class="tableblock frame-all grid-all stretch">
   <colgroup>
    <col style="width: 50%;">
    <col style="width: 50%;">
   </colgroup>
   <thead>
    <tr>
     <th class="tableblock halign-left valign-top">Guice</th>
     <th class="tableblock halign-left valign-top">Bootique</th>
    </tr>
   </thead>
   <tbody>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@com.google.inject.Inject</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@javax.inject.Inject</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@com.google.inject.BindingAnnotation</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@javax.inject.Qualifier</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@com.google.inject.Singleton</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@javax.inject.Singleton</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@com.google.inject.Named</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@javax.inject.Named</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@com.google.inject.Provides</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">@io.bootique.di.Provides</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">com.google.inject.Module</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">io.bootique.di.BQModule</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">com.google.inject.Binder</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">io.bootique.di.Binder</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">com.google.inject.Injector</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">io.bootique.di.Injector</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">com.google.inject.Provider</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">javax.inject.Provider</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">com.google.inject.Key</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">io.bootique.di.Key</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">com.google.inject.TypeLiteral</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">io.bootique.di.TypeLiteral</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">com.google.inject.multibindings.Multibinder</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">io.bootique.di.SetBuilder</p></td>
    </tr>
    <tr>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">com.google.inject.multibindings.MapBinder</p></td>
     <td class="tableblock halign-left valign-top">
      <p class="tableblock">io.bootique.di.MapBuilder</p></td>
    </tr>
   </tbody>
  </table>
 </div>
</div>
<div class="sect1">
 <h2 id="_api_changes">3. API changes</h2>
 <div class="sectionbody">
  <div class="sect2">
   <h3 id="_binder_api">3.1. Binder API</h3>
   <table class="tableblock frame-all grid-all stretch">
    <colgroup>
     <col style="width: 50%;">
     <col style="width: 50%;">
    </colgroup>
    <thead>
     <tr>
      <th class="tableblock halign-center valign-top">Guice</th>
      <th class="tableblock halign-center valign-top">Bootique</th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(String[].class)
    .annotatedWith(Args.class)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(String[].class, Args.class)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(String[].class)
    .annotatedWith(Names.named("args"))</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(String[].class, "args")</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(Service.class)
    .to(MyService.class)
    .in(Singleton.class)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(Service.class)
    .to(MyService.class)
    .inSingletonScope()</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(Service.class)
    .to(MyService.class)
    .in(Singleton.class)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(Service.class)
    .to(MyService.class)
    .inSingletonScope()</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(Service.class)
    .to(MyService.class)
    .asEagerSingleton()</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bind(Service.class)
    .to(MyService.class)
    .initOnStartup()</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">OptionalBinder
    .newOptionalBinder(binder,
        Command.class)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder
    .bindOptional(Service.class)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
    </tbody>
   </table>
  </div>
  <div class="sect2">
   <h3 id="_multibinder">3.2. Multibinder</h3>
   <table class="tableblock frame-all grid-all stretch">
    <colgroup>
     <col style="width: 50%;">
     <col style="width: 50%;">
    </colgroup>
    <thead>
     <tr>
      <th class="tableblock halign-center valign-top">Guice</th>
      <th class="tableblock halign-center valign-top">Bootique</th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">Multibinder
    .newSetBinder(binder, Service.class)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bindSet(Service.class)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">Multibinder.newSetBinder(
        binder,
        Service.class,
        Marker.class
)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bindSet(Service.class, Marker.class)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">multibinder.addBinding()
    .to(MyService.class)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">setbinder.add(MyService.class)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">multibinder.addBinding()
    .toInstance(new MyService())</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">setbinder.addInstance(new MyService())</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">multibinder.addBinding()
    .toProvider(MyServiceProvider.class)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">setbinder
    .addProvider(MyServiceProvider.class)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
    </tbody>
   </table>
  </div>
  <div class="sect2">
   <h3 id="_mapbinder">3.3. MapBinder</h3>
   <table class="tableblock frame-all grid-all stretch">
    <colgroup>
     <col style="width: 50%;">
     <col style="width: 50%;">
    </colgroup>
    <thead>
     <tr>
      <th class="tableblock halign-center valign-top">Guice</th>
      <th class="tableblock halign-center valign-top">Bootique</th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">MapBinder.newMapBinder(
        binder,
        String.class,
        Service.class
)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bindMap(
        String.class,
        Service.class
)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">MapBinder.newMapBinder(
        binder,
        String.class,
        Service.class,
        Marker.class
)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">binder.bindMap(
        String.class,
        Service.class,
        Marker.class
)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">mapbinder.addBinding("internal")
    .to(MyService.class)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">mapbinder.put("internal",
    MyService.class)</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
    </tbody>
   </table>
  </div>
  <div class="sect2">
   <h3 id="_injector_api">3.4. Injector API</h3>
   <table class="tableblock frame-all grid-all stretch">
    <colgroup>
     <col style="width: 50%;">
     <col style="width: 50%;">
    </colgroup>
    <thead>
     <tr>
      <th class="tableblock halign-center valign-top">Guice</th>
      <th class="tableblock halign-center valign-top">Bootique</th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">Guice.createInjector(modules)</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">DIBootstrap.injectorBuilder(modules)
    .enableDynamicBindings()
    .defaultNoScope()
    .build()</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">Binding&lt;Service&gt; binding = injector
        .getExistingBinding(Service.class);
return binding != null
        ? Optional.of(binding.getProvider())
        : Optional.empty();</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">if(injector.hasProvider(Service.class)) {
    Provider&lt;Service&gt; provider = injector
        .getProvider(Service.class);
    return Optional.of(provider);
}
return Optional.empty();</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">List&lt;Binding&lt;T&gt;&gt; bindings
    = injector.findBindingsByType(type);</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">Collection&lt;Key&lt;T&gt;&gt; keys
    = injector.getKeysByType(type);</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
    </tbody>
   </table>
  </div>
  <div class="sect2">
   <h3 id="_module_api">3.5. Module API</h3>
   <table class="tableblock frame-all grid-all stretch">
    <colgroup>
     <col style="width: 50%;">
     <col style="width: 50%;">
    </colgroup>
    <thead>
     <tr>
      <th class="tableblock halign-center valign-top">BQModuleProvider 1.x</th>
      <th class="tableblock halign-center valign-top">BQModuleProvider 2.x</th>
     </tr>
    </thead>
    <tbody>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">Module module()</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">BQModule module()</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
     <tr>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">BQModule.Builder moduleBuilder()</code></pre>
         </div>
        </div>
       </div></td>
      <td class="tableblock halign-left valign-top">
       <div class="content">
        <div class="listingblock">
         <div class="content">
          <pre class="highlight"><code class="language-java java" data-lang="java">BQModuleMetadata.Builder moduleBuilder()</code></pre>
         </div>
        </div>
       </div></td>
     </tr>
    </tbody>
   </table>
  </div>
 </div>
</div>